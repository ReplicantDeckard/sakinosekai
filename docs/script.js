"use strict";const phases=new Map;phases.set("a",[[{keyframe:"flare",timing:1},null],[{keyframe:"fadeIn",timing:2},{keyframe:"fadeOutTranslucent",timing:6}],[{keyframe:"fadeIn",timing:3},{keyframe:"fadeOut",timing:6}],[{keyframe:"fadeIn",timing:4},{keyframe:"fadeOut",timing:6}]]).set("b",[[{keyframe:"flare",timing:1},null],[{keyframe:"fadeIn",timing:2},{keyframe:"fadeOutTranslucent",timing:6}],[{keyframe:"fadeIn",timing:3},{keyframe:"fadeOut",timing:6}],[{keyframe:"fadeIn",timing:4},{keyframe:"fadeOut",timing:6}]]).set("c",[[{keyframe:"flare",timing:1},null],[{keyframe:"fadeIn",timing:2},{keyframe:"fadeOutTranslucent",timing:6}],[{keyframe:"fadeIn",timing:3},{keyframe:"fadeOut",timing:6}],[{keyframe:"fadeIn",timing:4},{keyframe:"fadeOut",timing:6}]]).set("d",[[{keyframe:"fadeIn",timing:5},null],[{keyframe:"fadeIn",timing:5},null],[{keyframe:"fadeIn",timing:5},null]]);const keyframes={fadeIn:[{opacity:0},{opacity:1}],flare:[{opacity:0},{opacity:.66,offset:.1},{opacity:.8,offset:.2},{opacity:.7,offset:.4},{opacity:.3,offset:.66},{opacity:0}],fadeOut:[{opacity:1},{opacity:0}],fadeOutTranslucent:[{opacity:1},{opacity:.15}]},BWEndOpacity=.15,groupDelay=750,groupFourPhase=300,groupFourDelayMultiplier=3,phaseDelays=[0,100,500,750],secondPartDelay=100,secondPartPhaseDelay=90,timings=[(e=0)=>({delay:e,duration:800,fill:"forwards",easing:"ease-out"}),(e=0)=>({duration:200,delay:e,fill:"forwards",easing:"ease-in-out"}),(e=0)=>({duration:500,delay:e,fill:"forwards",easing:"ease-in-out"}),(e=0)=>({duration:500,delay:e,fill:"forwards",easing:"ease-out"}),(e=0)=>({duration:750,delay:e,fill:"forwards",easing:"ease-out"}),(e=0)=>({delay:e,duration:1e3,fill:"forwards",easing:"ease-out"})],title={container:document.querySelector("#title")};title.name=title.container.querySelector("h1"),title.vitalsContainer=title.container.querySelector("dl"),title.underline=title.container.querySelector("#underline");const heroContainer=document.querySelector("#hero");let imageGroups=new DocumentFragment,anims=new Array,anim={},gn=0,secondDelay=100;phases.forEach(((e,a)=>{let t=document.createElement("div");t.id="group-"+a,e.forEach(((e,i)=>{anim={el:document.createElement("img"),group:a,phase:i,animations:[]},anim.el.id="saki"+(a+(i+1)),anim.el.setAttribute("src",`images/saki-${a}-00${i+1}.webp`),anim.el.setAttribute("alt",`saki-hero-animation-${a}-00${i+1}`),t.appendChild(anim.el);for(let t=0;t<phases.get(a).length;++t)if(e[t]){let n=0;"d"===a?n=timings[gn+1](2250+300*(i+1)):1===t?(secondDelay-=90,n=timings[e[t].timing-1](secondDelay)):n=timings[e[t].timing-1](750*gn+phaseDelays[i]),anim.animations.push(new Animation(new KeyframeEffect(anim.el,keyframes[e[t].keyframe],n)))}anims.push(anim)})),imageGroups.appendChild(t),++gn}));const playButton=document.createElement("button");playButton.id="play-anim",playButton.setAttribute("type","button"),imageGroups.appendChild(playButton),heroContainer.appendChild(imageGroups),document.querySelector("#hero-fallback").style.display="none";let setStartState=e=>{e.forEach((e=>{e.el.style.opacity=0})),title.name.style.opacity=0,title.underline.style.opacity=0},playAnimationPartOne=()=>(anims.forEach((e=>{e.animations[0].play(),e.animations[0].finished.then((e=>{e.commitStyles(),e.cancel()}))})),anims[anims.length-1].animations[0]),playAnimationPartTwo=()=>{for(let e=anims.length-1;e>=0;--e)anims[e].animations[1]&&(anims[e].el.removeAttribute("style"),anims[e].animations[1].play(),anims[e].animations[1].finished.then((e=>{e.commitStyles(),e.cancel()})));return anims[1].animations[1]},playTextAnimations=()=>{title.name.animate([{filter:"blur(20px)",opacity:1},{filter:"blur(0px)",opacity:1}],{duration:750,fill:"forwards"}).finished.then((e=>{e.commitStyles(),e.cancel()})),title.underline.animate([{opacity:0},{opacity:1}],{duration:700,delay:300,easing:"ease-out",fill:"forwards"}).finished.then((e=>{e.commitStyles(),e.cancel()})),title.vitalsContainer.animate([{transform:"translateY(25%)"},{transform:"translateY(0%)"}],{duration:1e3,delay:200,easing:"ease-out",fill:"forwards"}).finished.then((e=>{e.commitStyles(),e.cancel()}))},playFullAnimations=()=>playAnimationPartOne().finished.then((()=>playAnimationPartTwo().finished)),fireAnimationSequence=()=>{setStartState(anims),playButton.setAttribute("disabled",!0),playFullAnimations().then((()=>{playButton.removeAttribute("disabled"),playTextAnimations()}))};playButton.addEventListener("click",(()=>{fireAnimationSequence()})),heroContainer.classList.remove("hide"),fireAnimationSequence();